@using Habitat.Framework.SitecoreExtensions.Extensions
@using Habitat.Framework.SitecoreExtensions.Repositories
@using Habitat.PageContent
@model Sitecore.Mvc.Presentation.RenderingModel

@if (Model.Item == null)
{
  return;
}

<div class="image-box shadow text-center mb-20">
  <div class="overlay-container">
    <div class="overlay-container overlay-visible">
      @Html.Sitecore().ImageField(Templates.HasPageContent.Fields.Image.ToString(), Model.Item, mw: 768, cssClass: "img-responsive")
      <div class="overlay-bottom">
        <div class="text">
          <p class="lead margin-clear">@Html.Sitecore().Field(Templates.HasPageContent.Fields.Title.ToString(), Model.Item)</p>
        </div>
      </div>
    </div>
    @if (Model.Item.Fields[Templates.HasPageContent.Fields.Summary].HasValue)
    {
      <div class="overlay-top">
        <div class="text">
          <p class="small">@Html.Sitecore().Field(Templates.HasPageContent.Fields.Summary.ToString(), Model.Item)</p>
        </div>
      </div>
      <div class="overlay-bottom">
        <a href="@Model.Item.Url()" class="overlay-link"><i class="fa fa-link"></i></a>
      </div>
    }
    else
    {
      <a href="@Model.Item.Url()" class="overlay-link"><i class="fa fa-link"></i></a>
    }
  </div>
</div>